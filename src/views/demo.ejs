<%- include('partials/header') %>

<main>
  <h1><%= title %></h1>

  <section>
    <h2>Global Middleware Data</h2>

    <p><strong>Greeting:</strong></p>
    <%- greeting %>

    <p><strong>Current Year:</strong> <%= currentYear %></p>

    <p><strong>Applied Theme:</strong> <%= bodyClass %></p>
  </section>

  <section>
    <h2>Query Parameters</h2>

    <% if (Object.keys(queryParams).length > 0) { %>
      <ul>
        <% Object.keys(queryParams).forEach(key => { %>
          <li><strong><%= key %></strong>: <%= queryParams[key] %></li>
        <% }) %>
      </ul>
    <% } else { %>
      <p>No query parameters detected.</p>
      <p>Try visiting <code>/demo?debug=true</code></p>
    <% } %>
  </section>

  <section>
    <h2>Route-Specific Middleware</h2>
    <p>
      This page includes custom HTTP headers set by route-specific middleware.
    </p>
    <p>
      Open <strong>DevTools → Network → Headers</strong> to verify:
    </p>
    <ul>
      <li><code>X-Demo-Page</code></li>
      <li><code>X-Middleware-Demo</code></li>
    </ul>
  </section>

  <p>
    <a href="/">← Back to Home</a>
  </p>
</main>

<%- include('partials/footer') %>