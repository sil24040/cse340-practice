<%- include('partials/header') %>

<main>
  <div class="course-header">
    <h1><%= course.title %></h1>
    <p>
      <strong><%= course.id %></strong> â€¢
      <%= course.credits %> credits
    </p>
    <p><%= course.description %></p>
  </div>

  <section>
    <h2>Available Sections</h2>

    <p>
      Sort by:
      <a href="/catalog/<%= course.id %>" class="<%= currentSort === 'time' ? 'active' : '' %>">Time</a> |
      <a href="/catalog/<%= course.id %>?sort=professor" class="<%= currentSort === 'professor' ? 'active' : '' %>">Professor</a> |
      <a href="/catalog/<%= course.id %>?sort=room" class="<%= currentSort === 'room' ? 'active' : '' %>">Room</a>
    </p>

    <div class="section-list">
      <% course.sections.forEach(section => { %>
        <div class="section-card">
          <p><strong><%= section.time %></strong></p>
          <p>Room: <%= section.room %></p>
          <p>Instructor: <%= section.professor %></p>
        </div>
      <% }) %>
    </div>
  </section>

  <p>
    <a href="/catalog">&larr; Back to Course Catalog</a>
  </p>
</main>

<%- include('partials/footer') %>
